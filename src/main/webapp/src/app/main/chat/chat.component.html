<div class="container">
  <div class="row">
    <a [href]="'/chat'" class="text-decoration-none ml-3 mt-1 mr-2">
      <fa-icon [icon]="faChevronLeft"></fa-icon> Back
    </a>
    <h3>{{subject?.title}}</h3>
  </div>
  <div class="message-holder" (scroll)="updateScrollLock()" #messageContainer>
    <div class="message" [class.own]="isLoggedIn(message.sender)" *ngFor="let message of messages">
      <p class="username" [textContent]="toMessageName(message.sender)"></p>
      <p class="content" [textContent]="message.content"></p>
      <p class="time" [textContent]="toMessageTime(message.time)"></p>
    </div>
  </div>
  <form id="message-form"
        class="list-group-item"
        #messageForm="ngForm"
        (ngSubmit)="onCreateMessage(messageForm, messageForm.value)">
    <div class="input-group">
      <input class="form-control" type="text" name="content" placeholder="Message" ngModel maxlength="250" required/>
      <div class="input-group-append">
        <button class="btn btn-primary"
                type="submit"
                [disabled]="messageForm.invalid || !isSubjectIdLoaded()"
                name="create-message-button">
          <span>Send <fa-icon [icon]="faPaperPlane"></fa-icon></span>
        </button>
      </div>
    </div>
  </form>
</div>

